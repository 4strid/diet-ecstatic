!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=Object.create(r.prototype);if(console.log(n),n.length){for(var s=t.render,h=function(t){var e=s;s=function(){return n[t].call(this,e.bind(this),this,this.props)}},c=n.length-1;c>=0;c--)h(c);o.render=s}else o.render=t.render;for(var u in t.methods)o[u]=t.methods[u];var f=function(e){o[e]=function(){this.node.removeEventListeners(this),this.state.set(e),t.states[e].call(this)}};for(var l in t.states)f(l);t.update&&(o.update=t.update),o.destroy=function(){t.destroy&&t.destroy.call(this)},o.construct=function(e){var n=this;for(var r in this.props={},e)"key"!==r&&"ref"!==r&&"proxy"!==r&&(this.props[r]=e[r]);e.transform=!1!==t.transform;var i={};Object.assign(i,{x:e.x||t.x||0,y:e.y||t.y||0,w:e.w||t.w,h:e.h||t.h}),this.data={};var o=function(t){Object.defineProperty(n.data,t,{enumerable:!0,configurable:!0,get:function(){return i[t]},set:function(e){i[t]=e,n.node.scheduleRender()}})};for(var s in i)o(s);for(var h=function(t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){return i[t]},set:function(e){e!==i[t]&&(i[t]=e,n.node.scheduleMove())}})},c=["x","y"],u=0;u<c.length;u++){h(c[u])}if(t.data){var f=t.data.call(this),l=function(t){i[t]=f[t],Object.defineProperty(n.data,t,{enumerable:!0,configurable:!0,get:function(){return i[t]},set:function(e){i[t]=e,n.node.scheduleRender()}})};for(var p in f)l(p)}e.proxy&&e.proxy(function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.proxyOf=t;var o=function(e){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[e]},set:function(n){return t[e]=n}})},s=!0,a=!1,h=void 0;try{for(var c,u=r[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){o(c.value)}}catch(t){a=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw h}}});var d="Ready";e.state&&this[e.state.name]&&(d=e.state.name),this.state=new a(d,this)};var p=t.hasOwnProperty("constructor")?t.constructor:function(t){this.construct(t)};return!1===t.transform&&(p.transform=!1),p.prototype=o,p.prototype.constructor=p,p}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype={on:function(t,e){this.node.addEventListener(this,t,e)},listen:function(t,e){this.node.addPersistentListener(this,t,e)},unlisten:function(t){this.node.removePersistentListener(this,t)},getCollisions:function(){return this.node.getCollisions(this)},setState:function(t){this.state.set(t),this[t]&&this[t](),this.node.scheduleRender()},_receiveProps:function(t){for(var e=["x","y","w","h"],n=0;n<e.length;n++){var r=e[n];void 0!==t[r]&&t[r]!==this.props[r]&&(this[r]=t[r])}for(var i in t)this.props[i]=t[i];t.state&&t.state.isUpdated&&this.setState(t.state.name)}};for(var i=function(t){Object.defineProperty(r.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.data[t]},set:function(e){return this.data[t]=e,e}})},o=["w","h"],s=0;s<o.length;s++){i(o[s])}function a(t,e){this[t]=!0,this.name=t,this.component=e,this.stack=[]}a.prototype.set=function(t){this[this.name]=void 0,this[t]=!0,this.name=t,this.isUpdated=!0},a.prototype.save=function(){this.stack.push(this.name)},a.prototype.restore=function(){var t=this.stack.pop();if(void 0===t)throw new ReferenceError("Tried to restore state with no states on the stack");this.component.setState(t)},e.default=r},function(t,e,n){"use strict";function r(){this.constructorMap=new Map}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.get=function(t){return this.constructorMap.get(t.constructor).get(t)},r.prototype.set=function(t,e){var n=this.constructorMap.get(t.constructor)||new Map;this.constructorMap.set(t.constructor,n),n.set(t,e)},r.prototype.getAll=function(t){return this.constructorMap.get(t)},r.prototype.delete=function(t){var e=this.constructorMap.get(t.constructor);e&&e.delete(t)},r.prototype.forEach=function(t){this.constructorMap.forEach(function(e,n){e.forEach(function(e,r){t(e,r,n)})})},e.default={MultiMap:r}},function(t,e,n){"use strict";function r(t){return function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?t(i,n):n.push(i)}return n}(t,[])}function i(t,e){if("number"!=typeof e)throw new TypeError("Expected the depth to be a number");return function t(e,n,r){r--;for(var i=0;i<e.length;i++){var o=e[i];r>-1&&Array.isArray(o)?t(o,n,r):n.push(o)}return n}(t,[],e)}t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return r(t)},t.exports.from=r,t.exports.depth=function(t,e){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return i(t,e)},t.exports.fromDepth=i},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e,n){var r=Array.prototype.slice,i=n(4),o=n(3),s=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,u;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=r.call(t),e=r.call(e),s(t,e,n));if(h(t)){if(!h(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var f=i(t),l=i(e)}catch(t){return!1}if(f.length!=l.length)return!1;for(f.sort(),l.sort(),c=f.length-1;c>=0;c--)if(f[c]!=l[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!s(t[u],e[u],n))return!1;return typeof t==typeof e}(t,e,n))};function a(t){return null===t||void 0===t}function h(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(5)),i=s(n(2)),o=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return t.key||t.type}function h(t){if(this.map=new Map,this.indexMap=new Map,t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value,h=a(s);this.map.has(h)?this.map.get(h).push(s):(this.map.set(h,[s]),this.indexMap.set(h,0))}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}h.prototype.match=function(t){var e=a(t),n=this.map.get(e);if(void 0!==n){var r=this.indexMap.get(e);return this.indexMap.set(e,r+1),n[r]}},h.prototype.forEach=function(t){var e=this;this.map.forEach(function(n,r){for(var i=e.indexMap.get(r);i<n.length;i++)t(n[i])})},e.default=function(t,e,n){function s(t){if(t instanceof s)return console.log("sho nuff!"),t;if(t instanceof Function)return t;if("string"==typeof t)return new function(t){this.text=t}(t);var e=t.type,n=t.props,r=t.children;this.props=n||{},this.x=this.props.x||0,this.y=this.props.y||0,this.w=this.props.w,this.h=this.props.h,e.name&&(this.displayName=e.name),r.length&&(r=(r=(0,i.default)(r)).filter(function(t){return t})).length&&(this.props.children=r.map(function(t){return new s(t)})),this.props.ref&&(this.ref=this.props.ref),this.props.key&&(this.key=this.props.key),this.type=e}function a(t){return o.default.prototype.isPrototypeOf(t.type.prototype)}return s.prototype.render=function(t){return"w"in t||(t.w=this.w),"h"in t||(t.h=this.h),this.component?this.component.render():a(this)?(this.component=new this.type(t),this.component.node=this,this.component[this.component.state.name]&&this.component[this.component.state.name](),this.ref&&(this.ref instanceof Function?this.ref(this.component):this.ref.reference(this.component)),this.component.render()):this.type(t)},s.prototype.recursiveRender=function(){var t=this;this.rendered=new s(this.render(this.props)),this.rendered instanceof s?(this.rendered.setParent(this),this.rendered.recursiveRender()):this.props.children&&(this.children=this.props.children,this.children.forEach(function(e){e.setParent(t),e.recursiveRender()}))},s.prototype.setParent=function(t){this.parent=t,a(this)&&this.component&&(this.x=this.component.x,this.y=this.component.y),!1===this.type.transform&&(this.x=0,this.y=0),void 0===this.w&&(this.w=this.parent.w),void 0===this.h&&(this.h=this.parent.h),this.screenX=this.x+this.parent.screenX,this.screenY=this.y+this.parent.screenY},s.prototype.receiveProps=function(t){var e=new h(this.children);void 0!==this.children&&void 0!==t.children&&(t.children=t.children.map(function(t){var n=e.match(t);return void 0===n?t:(n.receiveProps(t.props),n)})),e.forEach(function(t){t.destroy()}),this.propsUpdated=function(t,e){for(var n in t)if("children"!==n){if("state"!==n){if(t[n]instanceof Function&&e[n]instanceof Function){if(t[n]===e[n])continue;if(t[n].toString()===e[n].toString())continue}if(!(0,r.default)(t[n],e[n]))return!0}else if(e.state.isUpdated)return!0}else{if(!("children"in e))return!0;if(t.children.length!==e.children.length)return!0;for(var i=0;i<t.children.length;i++)if(t.children[i]!==e.children[i])return!0}for(var o in e)if(!(o in t))return!0;return!1}(this.props,t),this.props=t,this.propsUpdated&&this.component&&this.component._receiveProps(this.props)},s.prototype.rerender=function(){var t=this;if(this.isUpdated||this.propsUpdated){var e=new s(this.render(this.props));e instanceof s?this.rendered.type===e.type?(this.rendered.setParent(this),this.rendered.receiveProps(e.props),this.rendered.rerender()):(this.rendered=e,this.rendered.setParent(this),this.rendered.recursiveRender()):(this.rendered=e,this.children=this.props.children,this.children&&this.children.forEach(function(e){e.setParent(t),e.rendered?e.rerender():e.recursiveRender()}))}else this.rendered instanceof s&&(this.rendered.setParent(this),this.rendered.rerender()),this.children&&this.children.forEach(function(e){e.setParent(t),e.rerender()});this.isUpdated=!1,this.propsUpdated=!1,this.component&&(this.component.state.isUpdated=!1)},s.prototype.recursiveUpdate=function(t){this.rendered instanceof s?(this.component&&this.component.update&&this.component.update(t),this.rendered.recursiveUpdate(t)):this.children&&this.children.forEach(function(e){e.recursiveUpdate(t)})},s.prototype.recursiveMove=function(){var t=this;this.isMoved&&(this.x=this.component.x,this.y=this.component.y),this.rendered instanceof s&&(this.rendered.setParent(this),this.rendered.recursiveMove()),this.children&&this.children.forEach(function(e){e.setParent(t),e.recursiveMove()}),this.isMoved=!1},s.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),this.rendered instanceof s?this.rendered.draw(t):(console.log(this),this.rendered(t)),t.restore()},s.prototype.scheduleUpdate=function(){n.scheduleUpdate(this)},s.prototype.scheduleRender=function(){this.isUpdated=!0,n.scheduleRender(this)},s.prototype.scheduleMove=function(){this.isMoved=!0,n.scheduleMove(this)},s.prototype.addEventListener=function(t,n,r){e.addEventListener(t,n,r)},s.prototype.removeEventListeners=function(t){e.removeEventListeners(t)},s.prototype.addPersistentListener=function(t,n,r){e.addPersistentListener(t,n,r)},s.prototype.removePersistentListener=function(t,n){e.removePersistentListener(t,n)},s.prototype.getCollisions=function(e){return t.getIntersections(e)},s.prototype.destroy=function(){this.rendered instanceof s&&this.rendered.destroy(),this.children&&this.children.forEach(function(t){t.destroy()}),this.component&&(e.removeComponent(this.component),this.component.destroy&&this.component.destroy.call(this.component))},s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=0,n=1,r=2,i=5,o=e,s=[],a=[],h=[];h[r]=function(e){t.root.recursiveUpdate(e)},h[3]=function(){t.root.recursiveMove(),s[i]=!0},h[4]=function(){t.root.rerender(),s[i]=!0},h[i]=function(){t.draw()};var c=null;function u(t){var n=null===c?0:t-c;for(n>17&&(console.log("Slowed down!"),console.log(n)),c=t,o=r;o<=i;o++)s[o]&&h[o](n);a.length>0?(s=a,a=[],window.requestAnimationFrame(u)):(c=null,s=[],o=e)}function f(t){return function(r){o===e?(s[t]=!0,o=n,window.requestAnimationFrame(u)):o<t?s[t]=!0:a[t]=!0}}this.scheduleUpdate=f(r),this.scheduleMove=f(3),this.scheduleRender=f(4),this.scheduleDraw=f(i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){return function(n){!function(t,n){h(n),l(i,t,n),l(o,t,n);var r=e.queryPointAll(n.canvasX,n.canvasY);(function(t,e,n){t.forEach(function(t){n.component=t,u("multi",t,e,n)})})(r,t,n),f(r.find(function(e){return function(t,e){for(var n=[o,i],r=0;r<n.length;r++){var s=n[r],a=s.local.get(t);if(a&&a[e])return!0}return!1}(e,t)}),t,n),function(t,n){var r=e.queryPoint(n.canvasX,n.canvasY),i=e.queryPointAll(n.canvasX,n.canvasY);"mousemove"===t&&(r!==p&&(null!==r&&f(r,"mouseover",n),null!==p&&f(p,"mouseout",n)),i.forEach(function(t){d.includes(t)||f(t,"mouseenter",n)}),d.forEach(function(t){i.includes(t)||f(t,"mouseleave",n)})),"mouseout"===t&&(null!==p&&f(p,"mouseout",n),d.forEach(function(t){f(t,"mouseleave",n)})),p=r,d=i}(t,n)}(t,n)}}var r=["blur","click","dblclick","focus","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","scroll","wheel"];r.forEach(function(e){t.addEventListener(e,n(e))});var i={local:new Map,multi:new Map,global:{}},o={local:new Map,multi:new Map,global:{}};r.forEach(function(t){i.global[t]=new Map,o.global[t]=new Map});var s=null,a=null;function h(e){if(!e.clientX)return e.canvasX=s,void(e.canvasY=a);var n=t.getBoundingClientRect();e.canvasX=e.clientX-n.left,e.canvasY=e.clientY-n.top}function c(t,e){e.localX=e.canvasX-t.node.screenX,e.localY=e.canvasY-t.node.screenY}function u(t,e,n,r){c(e,r);for(var s=[i,o],a=0;a<s.length;a++){var h=s[a][t].get(e);h&&h[n]&&h[n].call(e,r)}}function f(t,e,n){t&&(n.component=t,u("local",t,e,n))}function l(t,e,n){t.global[e].forEach(function(t,e){c(e,n),t.call(e,n)})}t.addEventListener("mousemove",function(e){t.focus(),h(e),s=e.canvasX,a=e.canvasY});var p=null,d=[];function m(t){if("G"===t[t.length-1])return t.substring(0,t.length-1)}function v(t){if("M"===t[t.length-1])return t.substring(0,t.length-1)}function y(t,e,n,r){if(t.has(e))t.get(e)[n]=r;else{var i={};i[n]=r,t.set(e,i)}}function x(t,e,n,r){var i=m(n);return void 0!==i?t.global[i].set(e,r):void 0!==v(n)?y(t.multi,e,n,r):void y(t.local,e,n,r)}function g(t,e,n){var r=m(n);if(void 0!==r)return t.global[r].delete(e);var i=t.local,o=n,s=v(n);void 0!==s&&(i=t.multi,o=s),i.get(e)[o]=void 0}function M(t,e){for(var n in t.local.delete(e),t.multi.delete(e),t.global)t.global[n].delete(e)}this.addEventListener=function(t,e,n){x(i,t,e,n)},this.addPersistentListener=function(t,e,n){x(o,t,e,n)},this.removeEventListener=function(t,e){g(i,t,e)},this.removePersistentListener=function(t,e){g(o,t,e)},this.removeEventListeners=function(t){M(i,t)},this.removePersistentListeners=function(t){M(o,t)},this.removeComponent=function(t){this.removeEventListeners(t),this.removePersistentListeners(t)}}},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function e(t,e){return t<e?-1:t>e?1:0}return function(n,r,i,o,s){!function e(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,h=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(a-u)/a)*(h-a/2<0?-1:1),l=Math.max(i,Math.floor(r-h*u/a+f)),p=Math.min(o,Math.floor(r+(a-h)*u/a+f));e(n,r,l,p,s)}var d=n[r],m=i,v=o;for(t(n,i,r),s(n[o],d)>0&&t(n,i,o);m<v;){for(t(n,m,v),m++,v--;s(n[m],d)<0;)m++;for(;s(n[v],d)>0;)v--}0===s(n[i],d)?t(n,i,v):t(n,++v,o),v<=r&&(i=v+1),r<=v&&(o=v-1)}}(n,r,i||0,o||n.length-1,s||e)}}()},function(t,e,n){"use strict";t.exports=i,t.exports.default=i;var r=n(9);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],h(i,t.leaf?r(o):o);return i}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var i,o,s,a,h=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],d(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):h.push(s));e=h.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,h=this.toBBox(t),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=u.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,h)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=m(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=m([])).leaf=!1,i.height=r;var h,c,u,f,l=Math.ceil(o/a),p=l*Math.ceil(Math.sqrt(a));for(v(t,e,n,p,this.compareMinX),h=e;h<=n;h+=p)for(v(t,h,u=Math.min(h+p-1,n),l,this.compareMinY),c=h;c<=u;c+=l)f=Math.min(c+l-1,u),i.children.push(this._build(t,c,f,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,h,c,u,l,p,d;r.push(e),!e.leaf&&r.length-1!==n;){for(u=l=1/0,i=0,o=e.children.length;i<o;i++)h=f(s=e.children[i]),p=t,d=s,(c=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-h)<l?(l=c,u=h<u?h:u,a=s):c===l&&h<u&&(u=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),h(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=m(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,h,c,u,l,p,d,m,v,y,x;for(c=u=1/0,r=e;r<=n-e;r++)i=a(t,0,r,this.toBBox),o=a(t,r,n,this.toBBox),p=i,d=o,void 0,void 0,void 0,void 0,m=Math.max(p.minX,d.minX),v=Math.max(p.minY,d.minY),y=Math.min(p.maxX,d.maxX),x=Math.min(p.maxY,d.maxY),s=Math.max(0,y-m)*Math.max(0,x-v),h=f(i)+f(o),s<c?(c=s,l=r,u=h<u?h:u):s===c&&h<u&&(u=h,l=r);return l},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,c=a(t,0,e,s),u=a(t,n-e,n,s),f=l(c)+l(u);for(i=e;i<n-e;i++)o=t.children[i],h(c,t.leaf?s(o):o),f+=l(c);for(i=n-e-1;i>=e;i--)o=t.children[i],h(u,t.leaf?s(o):o),f+=l(u);return f},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r};function s(t){this.ctx=t,this.map=new Map,this.tree=(0,o.default)(),this.screenX=0,this.screenY=0}function a(t,e,n,r){this.component=t,this.update(e,n,r)}s.prototype.setRootElement=function(t,e){this.Node=e,this.root=new e(t),this.root.setParent(this),this.root.recursiveRender(),this.draw()},s.prototype.setDimensions=function(t,e){this.w=t,this.h=e},s.prototype.rebuildRTree=function(){this.newMap=new Map,this.tree.clear(),this.zIndex=0,this.addToRTree(this.root),this.map=this.newMap},s.prototype.addToRTree=function(t){var e=this;if(t.component){var n=this.map.get(t.component);n?n.update(t.screenX,t.screenY,this.zIndex++):n=new a(t.component,t.screenX,t.screenY,this.zIndex++),this.newMap.set(t.component,n),this.tree.insert(n)}t instanceof this.Node&&this.addToRTree(t.rendered),t.children&&t.children.forEach(function(t){e.addToRTree(t)})},s.prototype.draw=function(){this.rebuildRTree(),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,1e3,1e3),this.root.draw(this.ctx)},s.prototype.getIntersections=function(t){var e=this.map.get(t);return this.tree.search(e).reduce(function(e,n){var r={x:n.minX,y:n.minY,w:n.maxX-n.minX,h:n.maxY-n.minY,top:n.minY,right:n.maxX,bottom:n.maxY,left:n.minX,component:n.component,dx:n.dx,dy:n.dy};return n.component!==t&&e.push(r),e},[])},s.prototype.queryPoint=function(t,e){var n=this.tree.search({minX:t,maxX:t,minY:e,maxY:e});return 0===n.length?null:n.reduce(function(t,e){return e.z>t.z?e:t}).component},s.prototype.queryPointAll=function(t,e){return this.tree.search({minX:t,maxX:t,minY:e,maxY:e}).sort(function(t,e){return e.z-t.z}).map(function(t){return t.component})},s.prototype.query=function(t){return this.tree.search({minX:t.x,maxX:t.x+t.w,minY:t.y,maxY:t.y+t.h}).map(function(t){return t.component})},a.prototype.update=function(t,e,n){this.dx=t-this.minX,this.dy=e-this.minY,this.minX=t,this.maxX=t+this.component.w,this.minY=e,this.maxY=e+this.component.h,this.z=n},e.default=s},function(t,e,n){"use strict";function r(t,e){if(void 0!==t.children){var n=!0,r=!1,i=void 0;try{for(var o,s=t.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.draw(e)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}Object.defineProperty(e,"__esModule",{value:!0});var i={layer:function(t){return function(e){e.save(),r(t,e),e.restore()}},rect:function(t){return function(e){e.save(),e.beginPath(),e.rect(0,0,t.w,t.h),r(t,e),e.restore()}},fill:function(t){return function(e){e.save(),t.color&&(e.fillStyle=t.color),e.fill(),r(t,e),e.restore()}},stroke:function(t){return function(e){e.save(),t.color&&(e.strokeStyle=t.color),e.stroke(),r(t,e),e.restore()}},"fill-rect":function(t){return function(e){e.save(),t.color&&(e.fillStyle=t.color),e.fillRect(0,0,t.w,t.h),r(t,e),e.restore()}},nothing:function(){return function(){}},_lookup:function(t){if(!(t in this))throw new TypeError("Unrecognized primitive type: "+t);return this[t]}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(12)),i=u(n(0)),o=u(n(11)),s=u(n(8)),a=u(n(7)),h=u(n(6)),c=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var f=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return i.default.apply(void 0,[t].concat(n))};function l(){}f.structures=c.default,f.attach=function(t,e,n,r){return new function(t,e,n,r){this.domNode=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.screen=new o.default(this.ctx),this.dispatch=new s.default(this.canvas,this.screen),this.scheduler=new a.default(this.screen),this.canvas.width=n,this.canvas.height=r,this.domNode.appendChild(this.canvas),this.Node=(0,h.default)(this.screen,this.dispatch,this.scheduler),this.screen.setDimensions(n,r),this.screen.setRootElement(t,this.Node),this.canvas.setAttribute("tabindex","0")}(t,e,n,r)},f.createElement=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return"string"==typeof t?{type:r.default._lookup(t),props:e,children:i}:{type:t,props:e,children:i}},f.createRef=function(){return new l},l.prototype.reference=function(t){this.component=t},f.store={},f.createStore=function(t,e){this.store[t]=e||{}},f.Constructor=i.default,e.default=f,window.Cute=f}]);